<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุนุฏุงุฏุงุช ุงูุชุณุนูุฑ | AuraPrice</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="pricing.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <h2>
                    <span class="logo-icon">โฆ</span>
                    AuraPrice
                </h2>
            </div>

            <nav class="sidebar-nav">
                <a href="dashboard.html" class="nav-item">
                    <span class="nav-icon">๐</span>
                    <span>ููุญุฉ ุงูุชุญูู</span>
                </a>
                <a href="products.html" class="nav-item">
                    <span class="nav-icon">๐</span>
                    <span>ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</span>
                </a>
                <a href="pricing.html" class="nav-item active">
                    <span class="nav-icon">๐ฐ</span>
                    <span>ุฅุนุฏุงุฏุงุช ุงูุชุณุนูุฑ</span>
                </a>
                <a href="salla-integration.html" class="nav-item">
                    <span class="nav-icon">๐</span>
                    <span>ุฑุจุท ููุตุฉ ุณูุฉ</span>
                </a>
                <a href="automation.html" class="nav-item">
                    <span class="nav-icon">โก</span>
                    <span>ุงูุชุญุฏูุซ ุงูุชููุงุฆู</span>
                </a>
                <a href="reports.html" class="nav-item">
                    <span class="nav-icon">๐</span>
                    <span>ุงูุชูุงุฑูุฑ</span>
                </a>
                <a href="settings.html" class="nav-item">
                    <span class="nav-icon">โ๏ธ</span>
                    <span>ุงูุฅุนุฏุงุฏุงุช</span>
                </a>
                <a href="index.html" class="nav-item" style="margin-top: 2rem; color: #EF4444;">
                    <span class="nav-icon">๐ช</span>
                    <span>ุชุณุฌูู ุงูุฎุฑูุฌ</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-title">
                    <h1>ุฅุนุฏุงุฏุงุช ุงูุชุณุนูุฑ ๐ฐ</h1>
                    <p>ุชุฎุตูุต ุทุฑููุฉ ุญุณุงุจ ูุชูุฑูุจ ุงูุฃุณุนุงุฑ</p>
                </div>
            </header>

            <!-- Price Rounding Section -->
            <section class="pricing-card">
                <div class="card-header">
                    <h3>๐ข ุชูุฑูุจ ุงูุฃุณุนุงุฑ</h3>
                    <span class="card-badge">ุฃุณุงุณู</span>
                </div>

                <div class="rounding-options">
                    <div class="rounding-option">
                        <label class="radio-label">
                            <input type="radio" name="roundingType" value="none">
                            <span class="radio-custom"></span>
                            <div class="option-content">
                                <h4>ุจุฏูู ุชูุฑูุจ</h4>
                                <p>ุงูุฅุจูุงุก ุนูู ุงูุณุนุฑ ููุง ูู (ูุซุงู: 100.40 โ 100.40)</p>
                            </div>
                        </label>
                    </div>

                    <div class="rounding-option">
                        <label class="radio-label">
                            <input type="radio" name="roundingType" value="ceiling" checked>
                            <span class="radio-custom"></span>
                            <div class="option-content">
                                <h4>ุชูุฑูุจ ูุฃุนูู (Ceiling)</h4>
                                <p>ุชูุฑูุจ ุงูุณุนุฑ ูุฃุนูู ุฑูู ุตุญูุญ (ูุซุงู: 100.40 โ 101)</p>
                            </div>
                        </label>
                    </div>

                    <div class="rounding-option">
                        <label class="radio-label">
                            <input type="radio" name="roundingType" value="floor">
                            <span class="radio-custom"></span>
                            <div class="option-content">
                                <h4>ุชูุฑูุจ ูุฃุณูู (Floor)</h4>
                                <p>ุชูุฑูุจ ุงูุณุนุฑ ูุฃุฏูู ุฑูู ุตุญูุญ (ูุซุงู: 100.60 โ 100)</p>
                            </div>
                        </label>
                    </div>

                    <div class="rounding-option">
                        <label class="radio-label">
                            <input type="radio" name="roundingType" value="nearest">
                            <span class="radio-custom"></span>
                            <div class="option-content">
                                <h4>ุชูุฑูุจ ูุฃูุฑุจ ุฑูู ุตุญูุญ</h4>
                                <p>ุชูุฑูุจ ุงูุณุนุฑ ูุฃูุฑุจ ุฑูู (ูุซุงู: 100.40 โ 100ุ 100.60 โ 101)</p>
                            </div>
                        </label>
                    </div>

                    <div class="rounding-option">
                        <label class="radio-label">
                            <input type="radio" name="roundingType" value="nearest5">
                            <span class="radio-custom"></span>
                            <div class="option-content">
                                <h4>ุชูุฑูุจ ูุฃูุฑุจ 5</h4>
                                <p>ุชูุฑูุจ ุงูุณุนุฑ ูุฃูุฑุจ ุฑูู ูู ูุถุงุนูุงุช 5 (ูุซุงู: 103 โ 105)</p>
                            </div>
                        </label>
                    </div>

                    <div class="rounding-option">
                        <label class="radio-label">
                            <input type="radio" name="roundingType" value="nearest10">
                            <span class="radio-custom"></span>
                            <div class="option-content">
                                <h4>ุชูุฑูุจ ูุฃูุฑุจ 10</h4>
                                <p>ุชูุฑูุจ ุงูุณุนุฑ ูุฃูุฑุจ ุฑูู ูู ูุถุงุนูุงุช 10 (ูุซุงู: 106 โ 110)</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Live Preview -->
                <div class="rounding-preview">
                    <h4>ูุนุงููุฉ ูุจุงุดุฑุฉ</h4>
                    <div class="preview-box">
                        <div class="preview-item">
                            <span class="preview-label">ุงูุณุนุฑ ุงูุฃุตูู:</span>
                            <input type="number" id="previewOriginalPrice" value="236.45" step="0.01" class="preview-input">
                        </div>
                        <span class="preview-arrow">โ</span>
                        <div class="preview-item result">
                            <span class="preview-label">ุงูุณุนุฑ ุจุนุฏ ุงูุชูุฑูุจ:</span>
                            <span id="previewRoundedPrice" class="preview-value">237</span>
                        </div>
                    </div>
                </div>

                <button class="btn-save-primary" onclick="saveRoundingSettings()">ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุชูุฑูุจ</button>
            </section>

            <!-- Custom Pricing Rules Section -->
            <section class="pricing-card">
                <div class="card-header">
                    <h3>โ๏ธ ููุงุนุฏ ุงูุชุณุนูุฑ ุงููุฎุตุตุฉ</h3>
                    <span class="card-badge premium">ูุชูุฏู</span>
                </div>

                <div class="custom-rules-description">
                    <p>ุฃูุดุฆ ููุงุนุฏ ูุฎุตุตุฉ ูุชุญููู ุงูุฃุณุนุงุฑ. ูุซุงู: ุฅุฐุง ูุงู ุงูุณุนุฑ 236 ูุชุญูู ุฅูู 239</p>
                </div>

                <!-- Rule Type Selection -->
                <div class="rule-type-selector">
                    <button class="rule-type-btn active" data-type="exact">ูุงุนุฏุฉ ูุญุฏุฏุฉ</button>
                    <button class="rule-type-btn" data-type="range">ูุทุงู ุณุนุฑู</button>
                    <button class="rule-type-btn" data-type="ending">ุฃุฑูุงู ุงูููุงูุฉ</button>
                </div>

                <!-- Rules List -->
                <div class="custom-rules-list" id="customRulesList">
                    <!-- Example Rule 1 -->
                    <div class="custom-rule-item" data-rule-id="1">
                        <div class="rule-content">
                            <div class="rule-type-badge exact">ูุงุนุฏุฉ ูุญุฏุฏุฉ</div>
                            <div class="rule-details">
                                <span class="rule-condition">ุฅุฐุง ูุงู ุงูุณุนุฑ = <strong>236</strong></span>
                                <span class="rule-arrow">โ</span>
                                <span class="rule-action">ูุตุจุญ <strong>239</strong></span>
                            </div>
                        </div>
                        <div class="rule-actions">
                            <label class="toggle-switch mini">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <button class="btn-rule-edit" onclick="editRule(1)">โ๏ธ</button>
                            <button class="btn-rule-delete" onclick="deleteRule(1)">๐๏ธ</button>
                        </div>
                    </div>

                    <!-- Example Rule 2 -->
                    <div class="custom-rule-item" data-rule-id="2">
                        <div class="rule-content">
                            <div class="rule-type-badge range">ูุทุงู ุณุนุฑู</div>
                            <div class="rule-details">
                                <span class="rule-condition">ุฅุฐุง ูุงู ุงูุณุนุฑ ูู <strong>100</strong> ุฅูู <strong>199</strong></span>
                                <span class="rule-arrow">โ</span>
                                <span class="rule-action">ุฃุถู <strong>+5</strong> ุฑูุงู</span>
                            </div>
                        </div>
                        <div class="rule-actions">
                            <label class="toggle-switch mini">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                            <button class="btn-rule-edit" onclick="editRule(2)">โ๏ธ</button>
                            <button class="btn-rule-delete" onclick="deleteRule(2)">๐๏ธ</button>
                        </div>
                    </div>

                    <!-- Example Rule 3 -->
                    <div class="custom-rule-item" data-rule-id="3">
                        <div class="rule-content">
                            <div class="rule-type-badge ending">ุฃุฑูุงู ุงูููุงูุฉ</div>
                            <div class="rule-details">
                                <span class="rule-condition">ุฅุฐุง ุงูุชูู ุงูุณุนุฑ ุจู <strong>1, 2, 3, 4</strong></span>
                                <span class="rule-arrow">โ</span>
                                <span class="rule-action">ูุฑูุจ ูุฃุนูู ุฅูู <strong>5</strong></span>
                            </div>
                        </div>
                        <div class="rule-actions">
                            <label class="toggle-switch mini">
                                <input type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                            <button class="btn-rule-edit" onclick="editRule(3)">โ๏ธ</button>
                            <button class="btn-rule-delete" onclick="deleteRule(3)">๐๏ธ</button>
                        </div>
                    </div>
                </div>

                <!-- Add New Rule Button -->
                <button class="btn-add-rule" onclick="openAddRuleModal()">
                    <span>+</span>
                    ุฅุถุงูุฉ ูุงุนุฏุฉ ุฌุฏูุฏุฉ
                </button>
            </section>

            <!-- Rules Priority Section -->
            <section class="pricing-card">
                <div class="card-header">
                    <h3>๐ ุชุฑุชูุจ ุชุทุจูู ุงูููุงุนุฏ</h3>
                </div>
                <div class="priority-info">
                    <p>ูุชู ุชุทุจูู ุงูููุงุนุฏ ุจุงูุชุฑุชูุจ ุงูุชุงูู:</p>
                    <ol class="priority-list">
                        <li><strong>ุงูููุงุนุฏ ุงููุฎุตุตุฉ ุงููุญุฏุฏุฉ</strong> - ุชูุทุจู ุฃููุงู ุฅุฐุง ุชุทุงุจู ุงูุณุนุฑ</li>
                        <li><strong>ููุงุนุฏ ุงููุทุงู ุงูุณุนุฑู</strong> - ุชูุทุจู ุฅุฐุง ูุงู ุงูุณุนุฑ ุถูู ุงููุทุงู</li>
                        <li><strong>ููุงุนุฏ ุฃุฑูุงู ุงูููุงูุฉ</strong> - ุชูุทุจู ุนูู ุงูุฑูู ุงูุฃุฎูุฑ</li>
                        <li><strong>ุงูุชูุฑูุจ ุงูุนุงู</strong> - ููุทุจู ุฃุฎูุฑุงู ุนูู ุงููุชูุฌุฉ ุงูููุงุฆูุฉ</li>
                    </ol>
                </div>
                <div class="priority-toggle">
                    <label class="checkbox-label">
                        <input type="checkbox" id="applyRulesBeforeRounding" checked>
                        <span>ุชุทุจูู ุงูููุงุนุฏ ุงููุฎุตุตุฉ ูุจู ุงูุชูุฑูุจ ุงูุนุงู</span>
                    </label>
                </div>
            </section>

            <!-- Test Calculator -->
            <section class="pricing-card">
                <div class="card-header">
                    <h3>๐งฎ ุงุฎุชุจุงุฑ ุงูุฃุณุนุงุฑ</h3>
                </div>
                <div class="test-calculator">
                    <div class="test-input-group">
                        <label>ุฃุฏุฎู ุงูุณุนุฑ ููุงุฎุชุจุงุฑ:</label>
                        <input type="number" id="testPrice" placeholder="ูุซุงู: 236.45" step="0.01">
                        <button class="btn-calculate" onclick="calculateTestPrice()">ุงุญุณุจ</button>
                    </div>
                    <div class="test-results" id="testResults" style="display: none;">
                        <div class="test-result-item">
                            <span class="result-label">ุงูุณุนุฑ ุงูุฃุตูู:</span>
                            <span class="result-value" id="resultOriginal">-</span>
                        </div>
                        <div class="test-result-item">
                            <span class="result-label">ุจุนุฏ ุงูููุงุนุฏ ุงููุฎุตุตุฉ:</span>
                            <span class="result-value" id="resultAfterRules">-</span>
                        </div>
                        <div class="test-result-item highlight">
                            <span class="result-label">ุงูุณุนุฑ ุงูููุงุฆู:</span>
                            <span class="result-value" id="resultFinal">-</span>
                        </div>
                        <div class="applied-rules" id="appliedRules">
                            <h5>ุงูููุงุนุฏ ุงูููุทุจูุฉ:</h5>
                            <ul id="appliedRulesList"></ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add/Edit Rule Modal -->
    <div id="ruleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="ruleModalTitle">ุฅุถุงูุฉ ูุงุนุฏุฉ ุฌุฏูุฏุฉ</h2>
                <button class="modal-close" onclick="closeRuleModal()">&times;</button>
            </div>

            <div class="modal-body">
                <!-- Rule Type Selection -->
                <div class="modal-form-group">
                    <label>ููุน ุงููุงุนุฏุฉ</label>
                    <select id="modalRuleType" onchange="updateRuleForm()">
                        <option value="exact">ูุงุนุฏุฉ ูุญุฏุฏุฉ (ุณุนุฑ ูุนูู)</option>
                        <option value="range">ูุทุงู ุณุนุฑู (ูู - ุฅูู)</option>
                        <option value="ending">ุฃุฑูุงู ุงูููุงูุฉ</option>
                    </select>
                </div>

                <!-- Exact Rule Form -->
                <div id="exactRuleForm" class="rule-form">
                    <div class="modal-form-grid">
                        <div class="modal-form-group">
                            <label>ุฅุฐุง ูุงู ุงูุณุนุฑ ูุณุงูู</label>
                            <input type="number" id="exactPrice" placeholder="ูุซุงู: 236" step="1">
                        </div>
                        <div class="modal-form-group">
                            <label>ูุชุญูู ุฅูู</label>
                            <input type="number" id="exactNewPrice" placeholder="ูุซุงู: 239" step="1">
                        </div>
                    </div>
                </div>

                <!-- Range Rule Form -->
                <div id="rangeRuleForm" class="rule-form" style="display: none;">
                    <div class="modal-form-grid">
                        <div class="modal-form-group">
                            <label>ูู ุณุนุฑ</label>
                            <input type="number" id="rangeFrom" placeholder="ูุซุงู: 100" step="1">
                        </div>
                        <div class="modal-form-group">
                            <label>ุฅูู ุณุนุฑ</label>
                            <input type="number" id="rangeTo" placeholder="ูุซุงู: 199" step="1">
                        </div>
                    </div>
                    <div class="modal-form-group">
                        <label>ุงูุฅุฌุฑุงุก</label>
                        <select id="rangeAction">
                            <option value="add">ุฅุถุงูุฉ ูุจูุบ ุซุงุจุช</option>
                            <option value="subtract">ุฎุตู ูุจูุบ ุซุงุจุช</option>
                            <option value="percentage">ุฅุถุงูุฉ ูุณุจุฉ ูุฆููุฉ</option>
                            <option value="set">ุชุญุฏูุฏ ุณุนุฑ ุซุงุจุช</option>
                        </select>
                    </div>
                    <div class="modal-form-group">
                        <label>ุงููููุฉ</label>
                        <input type="number" id="rangeValue" placeholder="ูุซุงู: 5" step="0.01">
                    </div>
                </div>

                <!-- Ending Rule Form -->
                <div id="endingRuleForm" class="rule-form" style="display: none;">
                    <div class="modal-form-group">
                        <label>ุฅุฐุง ุงูุชูู ุงูุณุนุฑ ุจู (ุงุฎุชุฑ ุงูุฃุฑูุงู)</label>
                        <div class="ending-digits">
                            <label class="digit-checkbox"><input type="checkbox" value="0"><span>0</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="1"><span>1</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="2"><span>2</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="3"><span>3</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="4"><span>4</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="5"><span>5</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="6"><span>6</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="7"><span>7</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="8"><span>8</span></label>
                            <label class="digit-checkbox"><input type="checkbox" value="9"><span>9</span></label>
                        </div>
                    </div>
                    <div class="modal-form-group">
                        <label>ูุชุญูู ุงูุฑูู ุงูุฃุฎูุฑ ุฅูู</label>
                        <select id="endingNewDigit">
                            <option value="0">0</option>
                            <option value="5">5</option>
                            <option value="9">9</option>
                        </select>
                    </div>
                    <div class="modal-form-group">
                        <label>ุงุชุฌุงู ุงูุชูุฑูุจ</label>
                        <select id="endingDirection">
                            <option value="up">ูุฃุนูู</option>
                            <option value="down">ูุฃุณูู</option>
                            <option value="nearest">ูุฃูุฑุจ</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="modal-btn-cancel" onclick="closeRuleModal()">ุฅูุบุงุก</button>
                <button class="modal-btn-save" onclick="saveRule()">ุญูุธ ุงููุงุนุฏุฉ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="pricing.js"></script>
</body>
</html>